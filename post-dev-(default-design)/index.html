<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TV Series Webpage</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <a href="#main-content" class="skip-to-content">Skip to Main Content</a>

    <nav class="navbar">
      <!-- Navigable Logo -->
      <div class="logo">
        <a href="index.html">
          <img src="img/movies.png" alt="TV Series Logo" class="navbar-logo" />
        </a>
      </div>
      <ul class="nav-links">
        <li><a href="#">Homepage</a></li>
        <li><a href="#">Trending</a></li>
        <li><a href="#">Most Watched</a></li>
        <li><a href="#">Pricing</a></li>
        <li><a href="#">FAQ</a></li>
        <li><a href="#">Register</a></li>
        <li><a href="#">About</a></li>
        <!-- Language Dropdown -->
        <li class="dropdown">
          <a
            href="#"
            id="language-button"
            role="combobox"
            aria-expanded="false"
            aria-controls="language-list"
            aria-haspopup="listbox"
            aria-activedescendant="language-option1"
          >
            Language
          </a>
          <ul
            class="dropdown-content"
            id="language-list"
            role="listbox"
            tabindex="-1"
          >
            <li
              id="language-option1"
              role="option"
              aria-selected="false"
              class="language-option"
            >
              English
            </li>
            <li
              id="language-option2"
              role="option"
              aria-selected="false"
              class="language-option"
            >
              Norwegian
            </li>
            <li
              id="language-option3"
              role="option"
              aria-selected="false"
              class="language-option"
            >
              Hindi
            </li>
            <li
              id="language-option4"
              role="option"
              aria-selected="false"
              class="language-option"
            >
              Nigerian
            </li>
            <li
              id="language-option5"
              role="option"
              aria-selected="false"
              class="language-option"
            >
              Eastern Yugur
            </li>
            <li
              id="language-option6"
              role="option"
              aria-selected="false"
              class="language-option"
            >
              Hebrew
            </li>
          </ul>
        </li>
      </ul>
    </nav>

    <!-- Add the level one heading here -->
    <h1 class="centered-heading">Welcome to TV Series Hub</h1>
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-slider">
        <!-- Slide 1 -->
        <div class="slide" id="slide1">
          <img src="img/blade.jpg" alt="Featured Series 1" />
          <button class="play-btn" onclick="playVideo(1)">Play</button>
        </div>
        <video id="video1" class="hero-video" controls style="display: none">
          <source src="img/video.mp4" type="video/mp4" />
          <!-- Provide path to video 1 -->
          Your browser does not support the video tag.
        </video>

        <!-- Slide 2 -->
        <div class="slide" id="slide2">
          <img src="img/clique.avif" alt="Featured Series 2" />
          <button class="play-btn" onclick="playVideo(2)">Play</button>
        </div>
        <video id="video2" class="hero-video" controls style="display: none">
          <source src="videos/video2.mp4" type="video/mp4" />
          <!-- Provide path to video 2 -->
          Your browser does not support the video tag.
        </video>

        <!-- Slide 3 -->
        <div class="slide" id="slide3">
          <img src="img/endeavor.avif" alt="Featured Series 3" />
          <button class="play-btn" onclick="playVideo(3)">Play</button>
        </div>
        <video id="video3" class="hero-video" controls style="display: none">
          <source src="videos/video3.mp4" type="video/mp4" />
          <!-- Provide path to video 3 -->
          Your browser does not support the video tag.
        </video>

        <!-- Arrow buttons for navigating slides -->
        <button class="arrow left" onclick="prevSlide()">&#10094;</button>
        <button class="arrow right" onclick="nextSlide()">&#10095;</button>
      </div>
    </section>
    <!-- Main content starts here -->
    <main id="main-content">
      <!-- Trending TV Series Section -->
      <section class="trending-section">
        <h2>Trending TV Series</h2>
        <div class="trending-carousel">
          <div class="carousel-items">
            <!-- 12 Trending Series Items with specified image paths -->
            <div class="trending-item">
              <img src="img/baptiste.avif" alt="Baptiste" />
              <h3>Baptiste</h3>
            </div>
            <div class="trending-item">
              <img src="img/clique.avif" alt="Clique" />
              <h3>Clique</h3>
            </div>
            <div class="trending-item">
              <img src="img/endeavor.avif" alt="Endeavor" />
              <h3>Endeavor</h3>
            </div>
            <div class="trending-item">
              <img src="img/ragdoll.avif" alt="Ragdoll" />
              <h3>Ragdoll</h3>
            </div>
            <div class="trending-item">
              <img src="img/unforgotten.avif" alt="Unforgotten" />
              <h3>Unforgotten</h3>
            </div>
            <div class="trending-item">
              <img src="img/investigation.avif" alt="The Investigation" />
              <h3>The Investigation</h3>
            </div>
            <div class="trending-item">
              <img src="img/annika.jpeg" alt="Annika" />
              <h3>Annika</h3>
            </div>
            <div class="trending-item">
              <img src="img/long-call.jpeg" alt="The Long Call" />
              <h3>The Long Call</h3>
            </div>
            <div class="trending-item">
              <img src="img/unforgiven.jpeg" alt="Unforgiven" />
              <h3>Unforgiven</h3>
            </div>
            <div class="trending-item">
              <img src="img/shetland.jpeg" alt="Shetland" />
              <h3>Shetland</h3>
            </div>
            <div class="trending-item">
              <img src="img/ridley.jpeg" alt="Ridley" />
              <h3>Ridley</h3>
            </div>
            <div class="trending-item">
              <img src="img/karen.jpeg" alt="Karen" />
              <h3>Karen</h3>
            </div>
          </div>
        </div>
      </section>

      <!-- Most Watched Section -->
      <section class="most-watched-section">
        <h2>Most Watched</h2>
        <div class="grid-container">
          <div class="grid-item">
            <img src="img/river.jpeg" alt="River" />
            <h3>River</h3>
          </div>
          <div class="grid-item">
            <img src="img/sherwood.jpeg" alt="Sherwood" />
            <h3>Sherwood</h3>
          </div>
          <div class="grid-item">
            <img src="img/valk.jpeg" alt="Valkyrien" />
            <h3>Valkyrien</h3>
          </div>
          <div class="grid-item">
            <img src="img/murders.jpeg" alt="Murders" />
            <h3>Murders</h3>
          </div>
          <div class="grid-item">
            <img src="img/marcella.jpeg" alt="Marcella" />
            <h3>Marcella</h3>
          </div>
          <div class="grid-item">
            <img src="img/bancroft.jpeg" alt="Bancroft" />
            <h3>Bancroft</h3>
          </div>
          <div class="grid-item">
            <img src="img/valley.jpeg" alt="The Valley" />
            <h3>The Valley</h3>
          </div>
          <div class="grid-item">
            <img src="img/crime.jpeg" alt="Crime" />
            <h3>Crime</h3>
          </div>
          <div class="grid-item">
            <img src="img/harbour.jpeg" alt="Safe Harbour" />
            <h3>Safe Harbour</h3>
          </div>
        </div>
      </section>

      <!-- Subscription Plans -->
      <section class="subscription-plans">
        <h2>Subscription Plans</h2>
        <table>
          <thead>
            <tr>
              <th>Plan</th>
              <th>Devices</th>
              <th>Video Quality</th>
              <th>Exclusive Content</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Free</td>
              <td>1</td>
              <td>720p</td>
              <td>No</td>
            </tr>
            <tr>
              <td>Plus</td>
              <td>2</td>
              <td>1080p</td>
              <td>No</td>
            </tr>
            <tr>
              <td>Pro</td>
              <td>4</td>
              <td>4K</td>
              <td>Yes</td>
            </tr>
            <tr>
              <td>Family</td>
              <td>6</td>
              <td>4K HDR</td>
              <td>Yes</td>
            </tr>
            <tr>
              <td>Premium</td>
              <td>Unlimited</td>
              <td>8K</td>
              <td>Yes</td>
            </tr>
            <tr>
              <td>Basic</td>
              <td>1</td>
              <td>480p</td>
              <td>No</td>
            </tr>
            <tr>
              <td>Student</td>
              <td>1</td>
              <td>1080p</td>
              <td>Yes</td>
            </tr>
            <tr>
              <td>Enterprise</td>
              <td>Unlimited</td>
              <td>4K HDR</td>
              <td>Yes</td>
            </tr>
            <tr>
              <td>Gold</td>
              <td>5</td>
              <td>4K HDR</td>
              <td>Yes</td>
            </tr>
            <tr>
              <td>Family Plus</td>
              <td>8</td>
              <td>4K HDR</td>
              <td>Yes</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- FAQ Section -->
      <section class="faq-section">
        <h2>Frequently Asked Questions</h2>

        <div class="faq-item">
          <h3>What is the cancellation policy?</h3>
          <p class="answer">
            You can cancel anytime through your account settings without any
            penalties.
          </p>
        </div>

        <div class="faq-item">
          <h3>How can I upgrade my plan?</h3>
          <p class="answer">
            To upgrade, go to your account settings, select "Subscription," and
            choose the plan you'd like to upgrade to.
          </p>
        </div>

        <div class="faq-item">
          <h3>What payment methods are accepted?</h3>
          <p class="answer">
            We accept Visa, MasterCard, PayPal, American Express, and Bitcoin
            for payments.
          </p>
        </div>

        <div class="faq-item">
          <h3>Can I download content to watch offline?</h3>
          <p class="answer">
            Yes, our Plus and Pro plans allow you to download content to watch
            offline on your devices.
          </p>
        </div>

        <div class="faq-item">
          <h3>How do I reset my password?</h3>
          <p class="answer">
            To reset your password, click on "Forgot Password" on the login
            page, and follow the instructions sent to your email.
          </p>
        </div>

        <div class="faq-item">
          <h3>Is there a free trial available?</h3>
          <p class="answer">
            Yes, we offer a 7-day free trial on all of our paid subscription
            plans.
          </p>
        </div>

        <div class="faq-item">
          <h3>Can I share my account with family members?</h3>
          <p class="answer">
            Yes, certain plans like Family and Family Plus allow account sharing
            across multiple devices.
          </p>
        </div>

        <div class="faq-item">
          <h3>What is the refund policy?</h3>
          <p class="answer">
            We offer a full refund if you cancel within the first 14 days of
            your subscription, no questions asked.
          </p>
        </div>

        <div class="faq-item">
          <h3>How can I contact customer support?</h3>
          <p class="answer">
            You can reach our customer support team via email at
            support@tvseries.com or through the live chat option on our website.
          </p>
        </div>

        <div class="faq-item">
          <h3>Are there parental controls available?</h3>
          <p class="answer">
            Yes, we offer customizable parental controls that allow you to
            restrict content based on ratings or categories.
          </p>
        </div>
      </section>

      <!-- Login and Registration Forms -->
      <section class="forms-section">
        <h2>Login and Register</h2>
        <div class="form-container">
          <!-- Login Form -->
          <form class="login-form">
            <h2>Login</h2>
            <label for="login-username">Username</label>
            <input
              type="text"
              id="login-username"
              name="username"
              placeholder="Username"
              required
            />

            <label for="login-password">Password</label>
            <input
              type="password"
              id="login-password"
              name="password"
              placeholder="Password"
              required
            />

            <button type="submit" class="btn">Login</button>
          </form>

          <!-- Registration Form -->
          <form class="register-form">
            <h2>Register</h2>

            <label for="first-name">First Name</label>
            <input
              type="text"
              id="first-name"
              name="first-name"
              placeholder="First Name"
              required
            />

            <label for="last-name">Last Name</label>
            <input
              type="text"
              id="last-name"
              name="last-name"
              placeholder="Last Name"
              required
            />

            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="Email"
              required
            />

            <label for="password">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              placeholder="Password"
              required
            />

            <!-- Terms & Services Checkbox -->
            <div class="checkbox">
              <input type="checkbox" id="terms" name="terms" />
              <label for="terms">Agree to Terms & Services</label>
              <span class="info-icon" onclick="openModal('termsModal')">?</span>
            </div>

            <!-- Newsletter Checkbox -->
            <div class="checkbox">
              <input type="checkbox" id="newsletter" name="newsletter" />
              <label for="newsletter">Subscribe to newsletter</label>
              <span class="info-icon" onclick="openModal('newsletterModal')"
                >?</span
              >
            </div>

            <button type="submit" class="btn">Register</button>
          </form>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <div class="footer-container">
        <!-- About Us Section -->
        <div class="footer-about">
          <p>
            About TVSeries: Stream your favorite shows, movies, and exclusive
            content.
          </p>
          <p>Address: 123 TVSeries St, Media City, Country</p>
          <button class="btn">Contact Us</button>
        </div>

        <!-- Quick Links -->
        <div class="footer-quick-links">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <!-- Add remaining links -->
          </ul>
        </div>

        <!-- Newsletter Signup -->
        <div class="footer-newsletter">
          <h3>Newsletter</h3>
          <label for="footer-email">Enter your email to subscribe</label>
          <input
            type="email"
            id="footer-email"
            placeholder="Your email"
            aria-label="Email for newsletter subscription"
          />
          <button class="btn">Subscribe</button>
        </div>

        <!-- Social Media Links -->
        <div class="footer-social">
          <h3>Follow Us</h3>
          <a href="#">Facebook</a>
          <a href="#">Twitter</a>
          <!-- Add other social links -->
        </div>

        <!-- Get Our App Section -->
        <div class="footer-app">
          <h3>Get Our App</h3>
          <a href="#">App Store</a>
          <a href="#">Google Play</a>
        </div>

        <!-- Payment Methods -->
        <div class="footer-payment">
          <h3>Payment Methods</h3>
          <img src="visa-icon.png" alt="Visa" />
          <!-- Add other payment icons -->
        </div>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const languageButton = document.getElementById("language-button");
        const languageList = document.getElementById("language-list");
        const languageOptions = document.querySelectorAll(".language-option");
        let expanded = false;
        let currentOptionIndex = 0;
        let searchString = "";
        let searchTimeout;
        let lastKey = "";
        let cycleIndex = 0; // Keeps track of cycling through options with the same starting letter

        // Focus on the button to capture keydown events when dropdown is opened
        function toggleDropdown(show) {
          expanded = show;
          languageButton.setAttribute("aria-expanded", expanded);
          languageList.style.display = expanded ? "block" : "none";

          if (expanded) {
            setActiveDescendant(currentOptionIndex);
            languageButton.focus(); // Ensure the button receives focus
          }
        }

        // Set the active option in the dropdown (with visual and accessibility focus)
        function setActiveDescendant(index) {
          languageOptions.forEach((option) =>
            option.classList.remove("active")
          ); // Remove previous active class
          languageOptions[index].classList.add("active"); // Add active class to the current option
          languageButton.setAttribute(
            "aria-activedescendant",
            languageOptions[index].id
          );
          languageOptions[index].scrollIntoView({ block: "nearest" });
          currentOptionIndex = index;
        }

        // Handle keydown events for navigation and character typing
        languageButton.addEventListener("keydown", (event) => {
          const key = event.key;
          console.log(`Key pressed: ${key}`); // Log the pressed key

          if (key === "ArrowDown" || key === "ArrowUp") {
            console.log("Arrow key pressed.");
            if (!expanded) {
              toggleDropdown(true); // Open dropdown if it's not already expanded
            } else {
              // Navigate through the options
              let newIndex =
                key === "ArrowDown"
                  ? (currentOptionIndex + 1) % languageOptions.length
                  : (currentOptionIndex - 1 + languageOptions.length) %
                    languageOptions.length;
              setActiveDescendant(newIndex);
            }
            event.preventDefault();
          } else if (key === "Enter" || key === " ") {
            console.log("Enter or Space key pressed.");
            if (expanded) {
              languageButton.textContent =
                languageOptions[currentOptionIndex].textContent; // Set the text of the selected option
              toggleDropdown(false); // Close dropdown
            } else {
              toggleDropdown(true); // Open dropdown on Enter or Space
            }
            event.preventDefault();
          } else if (key === "Escape") {
            console.log("Escape key pressed.");
            toggleDropdown(false); // Close dropdown on Escape
            event.preventDefault();
          } else if (/^[a-zA-Z]$/.test(key)) {
            console.log(`Printable character key pressed: ${key}`);
            handleTypeAheadSearch(key.toLowerCase());
            event.preventDefault();
          }
        });

        function handleTypeAheadSearch(char) {
          clearTimeout(searchTimeout); // Reset the timeout for the search string

          // Check if the character typed is the same as the last key pressed
          if (char === lastKey) {
            // If the same character is pressed again, cycle through options that start with that character
            cycleIndex = (cycleIndex + 1) % languageOptions.length;
            for (let i = 0; i < languageOptions.length; i++) {
              const optionText = languageOptions[cycleIndex].textContent
                .trim()
                .toLowerCase();
              if (optionText.startsWith(char)) {
                setActiveDescendant(cycleIndex);
                break;
              }
              cycleIndex = (cycleIndex + 1) % languageOptions.length;
            }
          } else {
            // New character typed, so start a new search
            searchString += char;
            lastKey = char; // Update last key pressed
            let matchingIndex = -1;

            // If dropdown isn't expanded, open it
            if (!expanded) {
              toggleDropdown(true);
            }

            // Look for the first option that matches the full search string
            for (let i = 0; i < languageOptions.length; i++) {
              const optionText = languageOptions[i].textContent
                .trim()
                .toLowerCase();
              if (optionText.startsWith(searchString)) {
                matchingIndex = i; // Found a match
                break;
              }
            }

            // If a match is found, set the focus to that matching option
            if (matchingIndex !== -1) {
              setActiveDescendant(matchingIndex);
              cycleIndex = matchingIndex; // Set cycleIndex to the first match
            }
          }

          // Clear the search string after a delay (1 second) to allow for typing in quick succession
          searchTimeout = setTimeout(() => {
            searchString = "";
            lastKey = "";
          }, 1000);
        }

        // Click event to toggle dropdown
        languageButton.addEventListener("click", () => {
          toggleDropdown(!expanded);
        });

        // Handle mouse click for option selection
        languageOptions.forEach((option, index) => {
          option.addEventListener("click", () => {
            languageButton.textContent = option.textContent; // Set selected language
            toggleDropdown(false); // Close dropdown
            setActiveDescendant(index); // Update active option
          });
        });

        // Close dropdown if user clicks outside
        document.addEventListener("click", (event) => {
          if (
            !languageButton.contains(event.target) &&
            !languageList.contains(event.target)
          ) {
            toggleDropdown(false);
          }
        });
      });

      // SLides
      let currentSlide = 1;
      const slides = document.querySelectorAll(".slide");

      function showSlide(slideIndex) {
        slides.forEach((slide, index) => {
          slide.style.display = index + 1 === slideIndex ? "block" : "none";
        });
      }

      function prevSlide() {
        currentSlide = currentSlide === 1 ? slides.length : currentSlide - 1;
        showSlide(currentSlide);
      }

      function nextSlide() {
        currentSlide = currentSlide === slides.length ? 1 : currentSlide + 1;
        showSlide(currentSlide);
      }

      function playVideo(slideIndex) {
        // Hide all slides (images and play buttons)
        const slides = document.querySelectorAll(".slide");
        slides.forEach((slide) => {
          slide.style.display = "none";
        });

        // Hide all videos initially
        const videos = document.querySelectorAll(".hero-video");
        videos.forEach((video) => {
          video.style.display = "none";
          video.pause(); // Stop any video that might be playing
        });

        // Show the selected video based on the slide index and play it
        const selectedVideo = document.getElementById(`video${slideIndex}`);
        selectedVideo.style.display = "block";
        selectedVideo.play();
      }

      showSlide(currentSlide);

      // Trending
      let position = 0; // Current position of the carousel (0 for first 6, -100% for the next 6)
      const totalItems = 12;
      const visibleItems = 6;
      const carouselItems = document.querySelector(".carousel-items");

      function slideCarousel() {
        // Toggle between first 6 and next 6 items
        position = position === 0 ? -100 : 0; // Move to the left (show the next 6 items) or back to the right
        carouselItems.style.transform = `translateX(${position}%)`;
      }

      // Automatic sliding every 4 seconds
      setInterval(slideCarousel, 4000);

      // Get all language options
      const languageOptions = document.querySelectorAll(".language-option");
      const languageButton = document.getElementById("language-button");
      const dropdownContent = document.querySelector(".dropdown-content");

      // Add event listeners to each language option
      languageOptions.forEach((option) => {
        option.addEventListener("click", function (e) {
          e.preventDefault(); // Prevent the default link behavior

          // Set the language button text to the selected language
          languageButton.textContent = this.textContent;

          // Automatically close the dropdown after selection
          dropdownContent.style.display = "none";
        });
      });

      // Handle dropdown visibility with hover (reopen it on hover)
      const dropdown = document.querySelector(".dropdown");

      // When hovering over the dropdown, make sure it shows again
      dropdown.addEventListener("mouseenter", function () {
        dropdownContent.style.display = "block"; // Reopen on hover
      });

      dropdown.addEventListener("mouseleave", function () {
        dropdownContent.style.display = "none"; // Close when not hovering
      });

      // Function to open the modal
      function openModal(modalId) {
        document.getElementById(modalId).style.display = "block";
      }

      // Function to close the modal
      function closeModal(modalId) {
        document.getElementById(modalId).style.display = "none";
      }

      // Close modal if the user clicks outside of the modal content
      window.onclick = function (event) {
        if (event.target.classList.contains("modal")) {
          event.target.style.display = "none";
        }
      };
    </script>
  </body>
</html>
